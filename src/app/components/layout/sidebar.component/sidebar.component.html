
<!--<aside class="bg-blue-700 text-white h-screen w-64 fixed top-0 left-0 shadow-lg flex flex-col z-20">
  <div class="text-center py-5 border-b border-blue-500">
    <h2 class="text-xl font-semibold tracking-wide">üè• Hospital</h2>
    <p class="text-sm text-blue-200">Management System</p>
  </div>


<div class="px-3 mt-3">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    (input)="onSearchChange()"
    placeholder="Search..."
    class="w-full px-3 py-2 rounded bg-white text-black placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
  />
</div>

  <nav class="flex-1 overflow-y-auto mt-4 px-2">
    <ul class="space-y-1">
      <li *ngFor="let section of filteredMenu">
      
        <button
          (click)="toggleSection(section)"
          class="flex justify-between items-center w-full px-4 py-2 rounded hover:bg-blue-600 transition focus:outline-none"
        >
          <span>{{ section.icon }} {{ section.name }}</span>
          <span [class.rotate-180]="section.open" class="transform transition-transform">‚ñº</span>
        </button>


        <ul
          *ngIf="section.open"
          class="ml-6 mt-1 space-y-1 transition-all duration-200 ease-in-out"
        >
          <li *ngFor="let item of section.children">
            <a
              [routerLink]="item.link"
              routerLinkActive="bg-blue-600"
              class="block px-3 py-1.5 rounded hover:bg-blue-500 transition"
            >
              {{ item.icon }} {{ item.name }}
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>
</aside>
-->
<aside class="bg-blue-700 text-white h-screen w-64 fixed top-0 left-0 shadow-lg flex flex-col z-20">
  <div class="text-center py-5 border-b border-blue-500">
    <h2 class="text-xl font-semibold tracking-wide">üè• Hospital</h2>
    <p class="text-sm text-blue-200">Management System</p>
  </div>

  <!-- üîç Search -->
  <div class="px-3 mt-3">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="onSearchChange()"
      placeholder="Search..."
      class="w-full px-3 py-2 rounded bg-white text-black placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"
    />
  </div>

  <nav class="flex-1 overflow-y-auto mt-4 px-2">
    <ul class="space-y-1">

      <!-- ‚≠ê Role-protected menu rendering -->
      <li *ngFor="let section of filteredMenu">
        <ng-container *ngIf="canShow(section.name)">
          
          <!-- Main section header -->
          <button
            (click)="toggleSection(section)"
            class="flex justify-between items-center w-full px-4 py-2 rounded hover:bg-blue-600 transition focus:outline-none"
          >
            <span>{{ section.icon }} {{ section.name }}</span>
            <span [class.rotate-180]="section.open" class="transform transition-transform">‚ñº</span>
          </button>

          <!-- Submenu -->
          <ul
            *ngIf="section.open"
            class="ml-6 mt-1 space-y-1 transition-all duration-200 ease-in-out"
          >
            <li *ngFor="let item of section.children">
              <a
                [routerLink]="item.link"
                routerLinkActive="bg-blue-600"
                class="block px-3 py-1.5 rounded hover:bg-blue-500 transition"
              >
                {{ item.icon }} {{ item.name }}
              </a>
            </li>
          </ul>

        </ng-container>
      </li>

    </ul>
  </nav>
</aside>
